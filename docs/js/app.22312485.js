(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],d=0,m=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={app:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"49a1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("header"),n("div",{staticClass:"mt-3"},[n("transition",{attrs:{mode:"out-in"}},[n("router-view")],1)],1)],1)},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info",fixed:"top"}},[n("b-navbar-brand",{attrs:{href:"#"}},[t._v("TypingApp")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[t.isAutentificated?t._e():[n("b-nav-item",{attrs:{to:"/about"}},[t._v("About")]),n("b-nav-item",{attrs:{to:"/signup"}},[t._v("Sign up")]),n("b-nav-item",{attrs:{to:"/login"}},[t._v("Login")])],t.isAutentificated?[n("b-nav-item",{attrs:{to:"/"}},[t._v("Home")]),n("b-nav-item",{attrs:{to:"/edit"}},[t._v("Edit")]),n("b-nav-item",{attrs:{to:"/about"}},[t._v("About")]),n("b-nav-item",{staticClass:"logout",on:{click:function(e){return t.logout()}}},[t._v("Logout")])]:t._e()],2)],1)],1)],1)},s=[],c={computed:{isAutentificated:function(){return null!==this.$store.getters.idToken}},methods:{logout:function(){this.$store.dispatch("logout")}}},u=c,l=(n("c824"),n("2877")),d=Object(l["a"])(u,a,s,!1,null,"31f7751a",null),m=d.exports,f={components:{NavBar:m}},p=f,h=(n("5c0b"),Object(l["a"])(p,o,i,!1,null,null,null)),b=h.exports,v=n("8c4f"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("div",{class:{turnEffect:t.isTurn}},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}})]),r("GameDisplay",{attrs:{msg:"Welcome to my typing App",words:t.words},on:{turnVue:t.toggleIsTurn}})],1)},_=[],w=(n("d3b7"),n("96cf"),n("1da1")),k=n("5530"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isActive?[n("span",[t._v("Quiz"+t._s(t.quizNum))]),n("h2",{staticClass:"quiz"},[t._v(t._s(t.quiz))]),n("div",[t._v(" score: "),n("span",[t._v(t._s(t.score))]),t._v(" miss: "),n("span",[t._v(t._s(t.miss))]),t._v(" time left: "),n("span",[t._v(t._s(t.timer))]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__rubberBand","leave-active-class":"animate__animated animate__fadeOut"}},[t.isBonus?n("p",{class:{bonusEffect:t.isBonus}},[t._v("+"+t._s((t.bonusTime/1e3).toFixed(2)))]):t._e()])],1)]:[n("h2",[t._v(t._s(t.msg))]),n("h3",[n("b-badge",{staticClass:"startEffect",attrs:{variant:"info"},on:{click:t.startGame}},[t._v("Press Space or Click to Start!")])],1)]],2)},y=[],x=(n("99af"),n("a434"),n("b680"),1e4),I="0.00",j=2e3,O={name:"GameDisplay",props:{msg:String,words:Array},data:function(){return{isActive:!1,quiz:"quiz",score:0,miss:0,loc:0,timer:I,timeLimit:x,bonusTime:j,isBonus:!1,startTime:"",isClear:!1,quizNum:1,unsolvedQs:[]}},mounted:function(){var t=this;window.addEventListener("keydown",(function(e){if(32===e.keyCode){if(t.isActive)return;t.startGame()}}))},methods:{init:function(){this.loc=0,this.score=0,this.miss=0,this.isClear=!1},startGame:function(){this.init(),this.isActive=!0,this.startTime=Date.now(),this.updateTimer(),this.makeQuiz(),this.typeWord()},updateTimer:function(){var t,e=this;t=this.timeLimit-(Date.now()-this.startTime),this.timer=(t/1e3).toFixed(2);var n=setTimeout((function(){e.updateTimer()}),10);t<0&&(clearTimeout(n),this.timer="0.00",setTimeout((function(){e.showResult()}),100))},addBonusTime:function(){this.isBonus=!0,this.timeLimit=this.timeLimit+this.bonusTime},showResult:function(){var t="Do you want to try again?",e=this.score+this.miss===0?0:this.score/(this.score+this.miss)*100,n="Score: ".concat(this.score,", Miss: ").concat(this.miss,", Accuary :").concat(e.toFixed(2),"% \n").concat(t);alert(n),location.reload()},makeQuiz:function(){var t=Math.floor(Math.random()*this.words.length);if(this.unsolvedQs=this.words,this.quiz=this.words[t].document.fields.sentence.stringValue,this.solvedQs(t),!this.unsolvedQs.length){var e="Nice work!!";alert(e),this.showResult()}return this.quiz},solvedQs:function(t){this.unsolvedQs.splice(t,1)},updateTarget:function(){for(var t="",e=0;e<this.loc;e++)t+="_";this.quiz=t+this.quiz.substring(this.loc)},typeWord:function(){var t=this;this.isActive&&window.addEventListener("keydown",(function(e){t.checkAnswer(e)}))},checkAnswer:function(t){this.isBonus=!1,t.key===this.quiz[this.loc]?(this.loc++,this.isClear=!1,this.loc===this.quiz.length&&(this.makeQuiz(),this.loc=0,this.isClear=!0,this.addBonusTime(),this.quizNum+=1,this.$emit("turnVue")),this.updateTarget(),this.score++):this.miss++}}},A=O,E=(n("8ec5"),Object(l["a"])(A,T,y,!1,null,"3f27153e",null)),S=E.exports,C=n("2f62"),U={name:"Home",components:{GameDisplay:S},data:function(){return{isTurn:!1}},created:function(){this.$store.dispatch("getUserItems",this.idToken)},computed:Object(k["a"])({},Object(C["b"])(["idToken","words","currentUser"])),methods:{toggleIsTurn:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isTurn&&(t.isTurn=!1),t.isTurn=!0,e.next=4,t.wait(2);case 4:t.isTurn=!1;case 5:case"end":return e.stop()}}),e)})))()},wait:function(t){return new Promise((function(e){setTimeout(e,1e3*t)}))}}},$=U,z=(n("65c1"),Object(l["a"])($,g,_,!1,null,"1411ac7e",null)),M=z.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("h2",[t._v("タイピングアプリの遊び方")]),n("div",{attrs:{role:"tablist"}},[n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[t._v("ゲームの遊び方")])],1),n("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[n("b-list-group",{staticClass:"text-left"},[n("b-list-group-item",[t._v("1. Homeページに移動する。")]),n("b-list-group-item",[t._v("2. スペースボタンを押すか、クリックしてスタートする。")]),n("b-list-group-item",[t._v("3. 時間内に出題される単語をタイプする。")]),n("b-list-group-item",[t._v("4. クリアするとボーナスタイム（2秒）が追加される")]),n("b-list-group-item",[t._v("5. 時間が0になると正解数やミスタイプ率が表示される。")]),n("b-list-group-item",[t._v("6. Editページでは好きな単語を登録したり、編集、削除することができる。")])],1)],1)],1),n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[t._v("このアプリの目的")])],1),n("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[n("b-card-text",{staticClass:"text-left m-3"},[t._v(" 英語（外国語）を勉強するためのサポートとしてタイピングが良いと思った。 すでにiKnowというアプリがあるが自由度が低いので自分で作れるものにした。 将来の学校教育ではこういったものが求められそう。高機能なものはいらない。 さっとできるものが良い。 ブラウザで完結できる方が導入しやすい。 ")])],1)],1),n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"}},[t._v("作る際に工夫したポイント")])],1),n("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[n("b-list-group",{staticClass:"text-left"},[n("b-list-group-item",[t._v("アカウントによって出題される問題が違うところ")]),n("b-list-group-item",[t._v("自分で単語の登録や編集、削除ができるところ")]),n("b-list-group-item",[t._v("デザインをシンプルにし、直感的に操作方法がわかるようにしたこと")])],1)],1)],1),n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],attrs:{block:"",variant:"info"}},[t._v("使っている技術")])],1),n("b-collapse",{attrs:{id:"accordion-4",accordion:"my-accordion",role:"tabpanel"}},[n("b-list-group",{staticClass:"text-left"},[n("b-list-group-item",[t._v('"animate.css": "^4.1.0",')]),n("b-list-group-item",[t._v('"bootstrap": "^4.5.0",')]),n("b-list-group-item",[t._v('"bootstrap-vue": "^2.14.0",')]),n("b-list-group-item",[t._v('"vue": "^2.6.11",')]),n("b-list-group-item",[t._v('"vue-router": "^3.1.6",')]),n("b-list-group-item",[t._v('"vuex": "^3.1.3"')]),n("b-list-group-item",[t._v('"axios": "^0.19.2",')])],1)],1)],1)],1)])},B=[],L={name:"About"},q=L,Q=Object(l["a"])(q,D,B,!1,null,null,null),R=Q.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("h2",[t._v("This is an edit page")]),n("p",[t._v("You can edit your words and sentences here.")]),n("hr"),n("h2",[t._v("User Profile")]),n("p",[t._v("user_id: "+t._s(t.currentUser.id))]),n("p",[t._v("user_email: "+t._s(t.currentUser.email))]),n("add-button"),n("add-modal"),n("items-table")],1)},P=[],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-right mb-3"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-form",modifiers:{"modal-add-form":!0}}],staticClass:"h2 mb-0",attrs:{variant:"outline-info"}},[n("b-icon-plus-circle")],1)],1)},N=[],V={name:"AddButton"},F=V,H=Object(l["a"])(F,G,N,!1,null,null,null),X=H.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:"modal-add-form",title:"Add new word or sentence"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel,o=e.hide;return[n("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(e){t.addWord(),o()}}},[t._v(" 追加 ")]),n("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" キャンセル ")])]}}])},[n("b-input",{model:{value:t.newSentence,callback:function(e){t.newSentence=e},expression:"newSentence"}})],1)],1)},J=[],K=n("bc3a"),Z=n.n(K),tt={computed:Object(k["a"])({},Object(C["b"])(["idToken","words","currentUser"])),data:function(){return{newSentence:""}},methods:{addWord:function(){var t=this,e={fields:{sentence:{stringValue:this.newSentence},userId:{stringValue:this.currentUser.id}}},n="projects/typing-app-f08b8/databases/(default)/documents/words/";Z.a.post(n,e,{headers:{Authorization:"Bearer ".concat(this.idToken)}}).then((function(e){console.log(e),t.$store.dispatch("getAllData",t.idToken)})).catch((function(t){console.log(t)}))}}},et=tt,nt=Object(l["a"])(et,Y,J,!1,null,null,null),rt=nt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.words,(function(e,r){return n("tr",{key:e.name},[n("td",[t._v(t._s(r+1))]),n("td",[t._v(t._s(e.document.fields.sentence.stringValue))]),n("td",[n("edit-button",{attrs:{index:r}}),n("delete-button",{attrs:{index:r}}),n("edit-modal",{attrs:{index:r,word:e,idToken:t.idToken}})],1)])})),0)])])},it=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("ID")]),n("th",[t._v("Sentence")]),n("th",[t._v("編集・削除")])])])}],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:"bv-modal-"+t.index,title:"編集"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel,o=e.hide;return[n("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(e){t.editItem(t.index),o()}}},[t._v(" 確定 ")]),n("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return r()}}},[t._v(" キャンセル ")])]}}])},[n("b-input",{model:{value:t.word.document.fields.sentence.stringValue,callback:function(e){t.$set(t.word.document.fields.sentence,"stringValue",e)},expression:"word.document.fields.sentence.stringValue"}})],1)],1)},st=[],ct=(n("b0c0"),n("a9e3"),{props:{index:Number,word:Object},computed:Object(k["a"])({},Object(C["b"])(["idToken","words"])),methods:{editItem:function(t){var e=this.words[t].document.name,n={fields:{sentence:{stringValue:this.words[t].document.fields.sentence.stringValue}}};Z.a.patch(e,n,{headers:{Authorization:"Bearer ".concat(this.idToken)}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}}),ut=ct,lt=Object(l["a"])(ut,at,st,!1,null,null,null),dt=lt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{staticClass:"ml-2",attrs:{variant:"outline-danger"},on:{click:function(e){return t.deleteItem(t.index)}}},[t._v("削除")])},ft=[],pt={props:{index:Number},computed:Object(k["a"])({},Object(C["b"])(["idToken","words"])),methods:{deleteItem:function(t){var e=this.words[t].document.name;console.log(e),Z.a.delete(e,{headers:{Authorization:"Bearer ".concat(this.idToken)}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),this.words.splice(t,1)}}},ht=pt,bt=Object(l["a"])(ht,mt,ft,!1,null,null,null),vt=bt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{attrs:{variant:"outline-info"},on:{click:function(e){return t.$bvModal.show("bv-modal-"+t.index)}}},[t._v("編集")])},_t=[],wt={props:{index:Number}},kt=wt,Tt=Object(l["a"])(kt,gt,_t,!1,null,null,null),yt=Tt.exports,xt={components:{EditModal:dt,DeleteButton:vt,EditButton:yt},computed:Object(k["a"])({},Object(C["b"])(["idToken","words"]))},It=xt,jt=Object(l["a"])(It,ot,it,!1,null,null,null),Ot=jt.exports,At={name:"Edit",components:{AddButton:X,AddModal:rt,ItemsTable:Ot},created:function(){this.$store.dispatch("getUserItems",this.idToken)},computed:Object(k["a"])({},Object(C["b"])(["idToken","words","currentUser"]))},Et=At,St=Object(l["a"])(Et,W,P,!1,null,null,null),Ct=St.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("h2",[t._v("Sing up")]),n("b-form-group",{attrs:{label:"Your email:","label-for":"input-email"}},[n("b-form-input",{attrs:{id:"input-email",required:"",placeholder:"Enter your email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),n("b-form-group",{attrs:{label:"Password:","label-for":"input-password"}},[n("b-form-input",{attrs:{id:"input-password",type:"password",required:"",placeholder:"Enter your password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.register()}}},[t._v("登録")]),n("b-button",{staticClass:"ml-2",attrs:{type:"reset",variant:"danger"},on:{click:function(e){return t.reset()}}},[t._v("リセット")])],1)},$t=[],zt={name:"SignUp",data:function(){return{form:{email:"",password:""}}},methods:{register:function(){this.$store.dispatch("register",{email:this.form.email,password:this.form.password}),this.reset()},reset:function(){this.form.email="",this.form.password=""}}},Mt=zt,Dt=Object(l["a"])(Mt,Ut,$t,!1,null,null,null),Bt=Dt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("h2",[t._v("Login")]),n("b-form-group",{attrs:{label:"Your email:","label-for":"input-email"}},[n("b-form-input",{attrs:{id:"input-email",required:"",placeholder:"Enter your email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),n("b-form-group",{attrs:{label:"Password:","label-for":"input-password"}},[n("b-form-input",{attrs:{id:"input-password",type:"password",required:"",placeholder:"Enter your password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.login()}}},[t._v("ログイン")]),n("b-button",{staticClass:"ml-2",attrs:{type:"reset",variant:"danger"},on:{click:function(e){return t.reset()}}},[t._v("リセット")])],1)},qt=[],Qt={name:"Login",data:function(){return{form:{email:"",password:""}}},methods:{login:function(){this.$store.dispatch("login",{email:this.form.email,password:this.form.password}),this.reset()},reset:function(){this.form.email="",this.form.password=""}}},Rt=Qt,Wt=Object(l["a"])(Rt,Lt,qt,!1,null,null,null),Pt=Wt.exports,Gt=(n("ac1f"),n("5319"),Z.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1"})),Nt=Gt,Vt=Z.a.create({baseURL:"https://securetoken.googleapis.com/v1"}),Ft=Vt,Ht={words:[]},Xt={words:function(t){return t.words}},Yt={updateWords:function(t,e){t.words=e}},Jt={getAllData:function(t,e){var n=t.commit,r=t.getters;Z.a.post("projects/typing-app-f08b8/databases/(default)/documents:runQuery",{structuredQuery:{from:[{collectionId:"words"}],select:{fields:[{fieldPath:"sentence"}]},where:{fieldFilter:{field:{fieldPath:"userId"},op:"EQUAL",value:{stringValue:r.currentUser.id}}}}},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){for(var e=0;e<=t.data.length;e++)n("updateWords",t.data)})).catch((function(t){console.log(t)}))},getUserItems:function(t,e){return Object(w["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.dispatch,n.next=3,r("getUserData",e);case 3:r("getAllData",e);case 4:case"end":return n.stop()}}),n)})))()}},Kt={state:Ht,getters:Xt,mutations:Yt,actions:Jt},Zt=Z.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1"}),te=Zt,ee={currentUser:{id:null,email:null}},ne={currentUser:function(t){return t.currentUser}},re={updateUser:function(t,e){t.currentUser=e}},oe={getUserData:function(t,e){return Object(w["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.next=3,te.post("/accounts:lookup?key=AIzaSyCCthIGG3XeQ-uoM6W0w9Ee1i4cjy6iWUM",{idToken:e}).then((function(t){var e={id:t.data.users[0].localId,email:t.data.users[0].email};r("updateUser",e)})).catch((function(t){console.log(t)}));case 3:case"end":return n.stop()}}),n)})))()}},ie={state:ee,getters:ne,mutations:re,actions:oe};r["default"].use(C["a"]);var ae=new C["a"].Store({state:{idToken:null},getters:{idToken:function(t){return t.idToken}},mutations:{updateIdToken:function(t,e){t.idToken=e}},actions:{autoLogin:function(t){return Object(w["a"])(regeneratorRuntime.mark((function e(){var n,r,o,i,a,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.dispatch,o=localStorage.getItem("idToken"),o){e.next=4;break}return e.abrupt("return");case 4:if(i=new Date,a=localStorage.getItem("expiryTimeMs"),s=localStorage.getItem("refreshToken"),c=i.getTime()>=a,!c){e.next=13;break}return e.next=11,r("refreshIdToken",s);case 11:e.next=16;break;case 13:u=a-i.getTime(),setTimeout((function(){r("refreshIdToken",s)}),u),n("updateIdToken",o);case 16:case"end":return e.stop()}}),e)})))()},login:function(t,e){var n=t.dispatch;Nt.post("/accounts:signInWithPassword?key=AIzaSyCCthIGG3XeQ-uoM6W0w9Ee1i4cjy6iWUM",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){n("setAuthData",{idToken:t.data.idToken,expiresIn:t.data.expiresIn,refreshToken:t.data.refreshToken}),ue.push("/")})).catch((function(t){console.log(t)}))},logout:function(t){var e=t.commit;e("updateIdToken",null),localStorage.removeItem("idToken"),localStorage.removeItem("expiryTimeMs"),localStorage.removeItem("refreshToken"),ue.replace("/login")},refreshIdToken:function(t,e){return Object(w["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.dispatch,n.next=3,Ft.post("/token?key=AIzaSyCCthIGG3XeQ-uoM6W0w9Ee1i4cjy6iWUM",{grant_type:"refresh_token",refresh_token:e}).then((function(t){r(" setAuthData",{idToken:t.data.idToken,expiresIn:t.data.expiresIn,refreshToken:t.data.refreshToken})}));case 3:case"end":return n.stop()}}),n)})))()},register:function(t,e){var n=t.dispatch;Nt.post("/accounts:signUp?key=AIzaSyCCthIGG3XeQ-uoM6W0w9Ee1i4cjy6iWUM",{email:e.email,password:e.password,returnSecureToken:!0}).then((function(t){n("setAuthData",{idToken:t.data.id_token,expiresIn:t.data.expires_in,refreshToken:t.data.refresh_token}),ue.push("/")})).catch((function(t){console.log(t)}))},setAuthData:function(t,e){var n=this,r=t.commit,o=t.dispatch,i=new Date,a=i.getTime()+1e3*e.expiresIn;r("updateIdToken",e.idToken),localStorage.setItem("idToken",e.idToken),localStorage.setItem("expiryTimeMs",a),localStorage.setItem("refreshToken",e.refreshToken),setTimeout((function(){o("refreshIdToken",e.refreshIdToken),n.refreshIdToken()}),1e3*e.expiresIn)}},modules:{words:Kt,user:ie}});r["default"].use(v["a"]);var se=[{path:"/",name:"Home",component:M,beforeEnter:function(t,e,n){ae.getters.idToken?n():n("/login")}},{path:"/about",name:"About",component:R},{path:"/edit",name:"Edit",component:Ct},{path:"/signup",name:"SignUp",component:Bt,beforeEnter:function(t,e,n){ae.getters.idToken?n("/"):n()}},{path:"/login",name:"Login",component:Pt,beforeEnter:function(t,e,n){ae.getters.idToken?n("/"):n()}}],ce=new v["a"]({mode:"history",base:"",routes:se}),ue=ce,le=n("5f5b"),de=n("b1e0"),me=(n("f9e3"),n("2dd8"),n("77ed")),fe=n.n(me);r["default"].use(fe.a),r["default"].use(le["a"]),r["default"].use(de["a"]),r["default"].config.productionTip=!1,Z.a.defaults.baseURL="https://firestore.googleapis.com/v1/",ae.dispatch("autoLogin").then((function(){new r["default"]({router:ue,store:ae,render:function(t){return t(b)}}).$mount("#app")}))},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"65c1":function(t,e,n){"use strict";var r=n("d2fa"),o=n.n(r);o.a},"8ec5":function(t,e,n){"use strict";var r=n("49a1"),o=n.n(r);o.a},"9c0c":function(t,e,n){},b698:function(t,e,n){},c824:function(t,e,n){"use strict";var r=n("b698"),o=n.n(r);o.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d2fa:function(t,e,n){}});
//# sourceMappingURL=app.22312485.js.map